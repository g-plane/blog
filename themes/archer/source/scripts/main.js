!function(e){function t(a){if(s[a])return s[a].exports;var n=s[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var s={};t.m=e,t.c=s,t.p="",t(0)}([function(e,t,s){"use strict";var a=s(1),n=s(2),o=s(3),i=s(4),r=s(5);console.info("hexo-theme-archer: v201701201"),(0,a.init)(),(0,n.toggleHeader)(),(0,i.sidebarInit)(),(0,r.initTag)(),(0,o.initMobile)()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});document.addEventListener("DOMContentLoaded",function(){document.getElementsByClassName("container")[0].classList.remove("container-unloaded"),document.getElementsByClassName("container")[0].classList.add("container-footer-fade-in"),document.getElementsByClassName("footer")[0].classList.remove("footer-unloaded"),document.getElementsByClassName("footer")[0].classList.add("container-footer-fade-in"),document.getElementsByClassName("loading")[0].style.display="none"},!1),t.init=function(){var e=$(".site-intro-img:first"),t=$(".site-intro-placeholder:first"),s=e.css("background-image").match(/url\("*([^"]*)"*\)/);if(s.length<2)console.log(s);else{var a=s[1],n=new Image;n.onload=function(){t.remove(),console.info("PLACEHOLDER REMOVED")},n.src=a}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.toggleHeader=function(){function e(e){v||(requestAnimationFrame(function(){var t=$(document).scrollTop(),n=function(e){if(e>d){if(1!==h)return h=1,m=!1,1}else if(-1!==h)return h=-1,m=!0,-1;return 0}(t);if(1==n?(c.addClass("toc-fixed"),i.addClass("home-link-hide"),r.addClass("back-top-show"),l.addClass("header-sidebar-menu-black")):-1==n&&(c.removeClass("toc-fixed"),i.removeClass("home-link-hide"),a.removeClass("banner-show"),r.removeClass("back-top-show"),l.removeClass("header-sidebar-menu-black")),s){var o=function(e){return(u+=e-f)>30?(u=0,1):u<-800?(u=0,-1):0}(t);1==o?a.removeClass("banner-show"):-1!=o||m||a.addClass("banner-show")}f=$(e).scrollTop(),v=!1}),v=!0)}function t(e){e.preventDefault();var t=setInterval(function(){var e=$(document).scrollTop();window.scrollTo(0,Math.max(Math.floor(.8*e))),0===e&&clearInterval(t)},20)}var s=0;void 0!==document.getElementsByClassName("post-body")[0]&&(s=1);var a=$(".banner:first"),n=a.find(".post-title a"),o=$(".site-intro:first"),i=$(".home-link:first"),r=$(".back-top:first"),l=$(".header-sidebar-menu:first"),d=o.offset().top+o.outerHeight(),c=$(".toc-wrapper:first");c.find(".toc-catalog").on("click",function(){c.find(".toc").toggleClass("toc-hide")});var f=0,u=0,h=-1,m=!0,v=!1;$(document).on("scroll",function(){e(this)}),[n,r].forEach(function(e){e.on("click",t)})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.initMobile=function(){function e(e){e.matches?(console.log("mobile"),document.body.addEventListener("touchstart",function(){})):console.log("desktop")}if(window.matchMedia){var t=window.matchMedia("(max-width: 900px)");t.addListener(e),e(t)}else window.addListener("resize",function(){e((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>900?{matches:!1}:{matches:!0})},!1)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sidebarInit=function(){function e(e){this.scrollHeight==this.clientHeight?window.event.preventDefault():this.scrollTop<=0?e.originalEvent.wheelDelta>0&&window.event.preventDefault():this.scrollTop>=this.scrollHeight-this.clientHeight&&e.originalEvent.wheelDelta<0&&window.event.preventDefault()}var t=$(".sidebar:first"),s=$(".wrapper:first"),a=$(".header-sidebar-menu:first"),n=t.find(".sidebar-content:first"),o=t.find(".sidebar-archive-link:first"),i=t.find(".sidebar-tags-link:first"),r=$(".toc-wrapper:first"),l=$(".header:first"),d=t.find(".sidebar-header:first");a.on("click",function(e){!function(e){t.addClass("sidebar-show"),s.addClass("wrapper-show-sidebar"),l.addClass("header-slide"),r.addClass("toc-slide"),e.stopPropagation()}(e)}),t.on("click",function(e){e.stopPropagation()}),s.on("click",function(e){t.hasClass("sidebar-show")&&(e.preventDefault(),t.removeClass("sidebar-show"),l.removeClass("header-slide"),s.removeClass("wrapper-show-sidebar"),r.removeClass("toc-slide"))}),o.on("click",function(){n.addClass("sidebar-content-show-archive").removeClass("sidebar-content-show-tags sidebar-show-immediately"),d.addClass("sidebar-header-show-archive").removeClass("sidebar-header-show-tags sidebar-show-immediately")}),i.on("click",function(){n.addClass("sidebar-content-show-tags").removeClass("sidebar-content-show-archive sidebar-show-immediately"),d.addClass("sidebar-header-show-tags").removeClass("sidebar-header-show-archive sidebar-show-immediately")}),t.on("mousewheel",function(s){var a=s.target,n=t.find(".sidebar-tag-list:first"),o=t.find(".sidebar-archive:first");$.contains(n[0],a)||n===a?e.call(n[0],s):$.contains(o[0],a)||o===a?e.call(o[0],s):s.preventDefault()});var c=$(".sidebar-tags-name:first")[0];$(".post-tag").on("click",function(e){!function(){var e=!1,s=new MouseEvent("click",{bubbles:!0,cancelable:!0});e=!(!d.hasClass("sidebar-header-show-archive")||t.hasClass("sidebar-show")),a[0].dispatchEvent(s),i[0].dispatchEvent(s),e&&(d.addClass("sidebar-show-immediately"),n.addClass("sidebar-show-immediately"))}(),function(e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0});a[0].dispatchEvent(t),c.currTagName=e,c.dispatchEvent(t)}(e.target.dataset.href),e.stopPropagation()})}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initTag=void 0;var a=s(6);t.initTag=function(){var e=void 0,t=new Map;!function(){var s=jsInfo.root+"content.json?t="+ +new Date,a=new XMLHttpRequest;a.responseType="",a.open("get",s,!0);var n=$(".tag-load-fail:first");a.onload=function(){200==this.status||304==this.status?(n.remove(),function(e){for(var s=this,a=function(a){var n=e[a].tags;n.length&&n.forEach(function(e){if(t.has(e.name)){var s=t.get(e.name)+","+a.toString();t.set(e.name,s)}else t.set(e.name,a.toString())},s)},n=0;n<e.length;n++)a(n)}(e=JSON.parse(this.responseText))):(function(e){e[0].style.display="block"}(n),$(".sidebar-tags-name:first").remove())},a.send()}(),$(".sidebar-tags-name:first").on("click",function(s){s.preventDefault();var n=s.target;16&this.compareDocumentPosition(n)&&("SPAN"===n.tagName?this.currTagName=n.firstChild.innerHTML:this.currTagName=n.innerHTML);var o=t.get(this.currTagName);if(o){$(this).find(".sidebar-tag-name-focus").removeClass("sidebar-tag-name-focus");for(var i=this.children,r=0;r<i.length;r++)this.currTagName===i[r].firstChild.innerHTML&&i[r].classList.add("sidebar-tag-name-focus");var l=o.split(","),d=document.createDocumentFragment(),c=document.getElementsByClassName("sidebar-tag-list")[0];c.innerHTML="",l.forEach(function(t){d.appendChild(function(e){var t=$('<li class="tag-post-item"><span class="tag-post-date">'+a.archerUtil.dateFormater(new Date(Date.parse(e.date)),"yyyy/MM/dd")+"</span></li>"),s=$('<a class="tag-post-title" href="'+jsInfo.root+e.path+'">'+e.title+"</a>");return t.append(s),t}(e[t])[0])}),c.appendChild(d)}})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={backTop:function(){var e=setInterval(function(){var t=document.body.scrollTop;document.body.scrollTop-=Math.max(Math.ceil(t/9)+2),0===t&&clearInterval(e)},20)},getScrollTop:function(){return document.documentElement.scrollTop||document.body.scrollTop},getAbsPosition:function(e){for(var t=e.offsetLeft,s=e.offsetTop;e=e.offsetParent;)t+=e.offsetLeft,s+=e.offsetTop;return{x:t,y:s}},dateFormater:function(e,t){var s={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in s)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?s[a]:("00"+s[a]).substr((""+s[a]).length)));return t},toggler:function(e,t,s,a,n,o){e&&"undefined"!=typeof window&&(e===window||e.nodeType)&&s.addEventListener(t,function(t){if(a)for(var s=a.split(/[, ]/),i=s.length;i--;)e.classList.add(s[i]);if(n)for(var r=n.split(/[, ]/),l=r.length;l--;)e.classList.remove(r[l]);o&&o(t)})}};t.archerUtil=s}]);